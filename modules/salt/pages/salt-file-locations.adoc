[[salt.file.locations]]
= Salt File Locations and Structure


This is part of the Salt file structure, as it is used by the {productname} Server.
The files are listed in the [path]``/etc/salt/master.d/susemanager.conf`` configuration file.


----
# Configure different file roots. Custom salt states should only be placed in
# /srv/salt.
# Users should not touch other directories listed here.
file_roots:
  base:
    - /usr/share/susemanager/salt
    - /usr/share/salt-formulas/states
    - /usr/share/susemanager/formulas/states
    - /srv/susemanager/salt
    - /srv/salt

# Configure different pillar roots. Custom pillar data should only be placed
# in /srv/pillar.
# Users should not touch other directories listed here.
pillar_roots:
  base:
    - /srv/pillar

# Extension modules path
extension_modules: /usr/share/susemanager/modules

# Runner modules
runner_dirs:
  - /usr/share/susemanager/modules/runners

# Engine modules
engines_dirs:
  - /usr/share/susemanager/modules/engines

# Master top configuration
master_tops:
  mgr_master_tops: True

# Location for storing temporary roster files
rosters:
  - /srv/susemanager/tmp
----

When you are working with [path]``/etc/salt/master.d/susemanager.conf``, be aware that:

* Files listed are searched in the order they appear
* The first matching file found is called

The {productname} Server reads Salt state data from five root directories:

[path]``/usr/share/susemanager/salt``::
This directory is shipped and updated with {productname} and includes certificate setup and common state logic to be applied to packages and channels.

[WARNING]
====
Do not edit or add custom Salt data to this directory.
====

[path]``/usr/share/salt-formulas/states``::
[path]``/usr/share/susemanager/formulas/states``::
These directories are shipped and updated with {productname} or additional extensions.
They inclucde states for salt formulas.

[WARNING]
====
Do not edit or add custom Salt data to this directory.
====

[path]``/srv/susemanager/salt``::
This directory is generated by {productname}, based on assigned channels and packages for clients, groups, and organizations.
This directory will be overwritten and regenerated.
It is the Salt equivalent of the {productname} database.

[WARNING]
====
Do not edit or add custom Salt data to this directory.
====

[path]``/srv/salt``::
This directory is used for custom state data, modules, and related data.
{productname} does not operate or use this directory directly.
The state data in this directory is used by the client highstate, and is merged with the total state result generated by {productname}.
Use this directory for custom Salt data.


The {productname} Server reads Salt pillar data from two root directories:

/usr/share/susemanager/pillar::
This directory is generated by {productname}.
It is shipped and updated together with {productname}.

[WARNING]
====
Do not edit or add custom Salt data to this directory.
====

/srv/pillar::
By default, {productname} does not operate or use this directory directly.
The custom pillar data in this directory is merged with the pillar result created by {productname}.
Use this directory for custom Salt pillar data.
