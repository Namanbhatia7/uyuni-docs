[[ports]]
= Required Network Ports

This section contains a comprehensive list of ports that are used for various communications within {productname}.

You will not need to open all of these ports.
Some ports only need to be opened if you are using the service that requires them.

This image shows the main ports used in {productname}:

image::ports_diagram.png[]

In this section:

* External inbound port: a port to be opened on the {productname} Server or Proxy
* External outbound port: a destination port that the {productname} Server or Proxy can use to open connections
* Internal port: a port only used internally, that is only accessible from ``localhost``.



== External Server Ports

[cols="1,1,1,1,1", options="header"]
.External Port Requirements for {productname} Server
|===
| Port number | Direction | Protocol | Used By | Notes
| 67          | Inbound   | TCP/UDP  | DHCP    | Required only if clients are requesting IP addresses from the server.
| 69          | Inbound   | TCP/UDP  | TFTP | Required if server is used as a PXE server for automated client installation.
| 80          | Inbound   | TCP      | HTTP | Required temporarily for some bootstrap repositories and automated installations.
Port 80 is not used to serve the {webui}.
| 80          | Outbound  | TCP      | HTTP | Required for {scc}.
| 443         | Inbound   | TCP      | HTTPS | {webui}, client, and proxy requests.
| 443         | Outbound  | TCP      | HTTPS | Required for {scc}.
| 4505         | Inbound  | TCP | salt | Required to accept communication requests from clients.
The client initiates the connection, and it stays open to receive commands from the Salt master.
| 4506        | Inbound  | TCP | salt | Required to accept communication requests from clients.
The client initiates the connection, and it stays open to report results back to the Salt master.
| 5222        | Inbound   | TCP      | osad  | Required to push OSAD actions to clients.
| 5269        | Inbound/Outbound | TCP | jabberd | Required to push actions to and from a proxy.
| 8050         | Inbound | TCP | websockify | Required to access the graphical console of virtual machines with the {webui}.
| 25151        |         | TCP | Cobbler |
|===



== Internal Server Ports

[cols="1,1", options="header"]
.Internal Port Requirements for {productname} Server
|===
| Port number | Notes
| 2828        | Satellite-search API, used by the RHN application in Tomcat and Taskomatic.
| 2829        | Taskomatic API, used by the RHN application in Tomcat.
| 6868        | Auditlog-keeper to database.
| 6888        | Auditlog-keeper API, used by the RHN application in Tomcat.
| 8005        | Tomcat shutdown port.
| 8009        | Tomcat to Apache HTTPD (AJP).
| 8080        | Tomcat to Apache HTTPD (HTTP).
| 9080        | Salt-API, used by the RHN application in Tomcat and Taskomatic.
| 32000       | Port for a TCP connection to the Java Virtual Machine (JVM) that runs Taskomatic and satellite-search.
|===


Port 32768 and higher are used as ephemeral ports.
These are most often used to receive TCP connections.
When a TCP connection request is received, the sender will choose one of these ephemeral port numbers to match the destination port.
You can use this command to find out which ports are ephemeral ports:

----
cat /proc/sys/net/ipv4/ip_local_port_range
----



== External Proxy Ports

[cols="1,1,1,1,1", options="header"]
.External Port Requirements for {productname} Proxy
|===
| Port number | Direction | Protocol | Used By | Notes
| 22          | Inbound   |          | | Required for ssh-push and ssh-push-tunnel contact methods.
Clients connected to the proxy initiate check in on the server and hop through to clients.
| 67          | Inbound   | TCP/UDP  | DHCP    | Required only if clients are requesting IP addresses from the server.
| 69          | Inbound   | TCP/UDP  | TFTP | Required if the server is used as a PXE server for automated client installation.
| 80          | Outbound  |           | | Used to reach the server.
| 443         | Inbound   | TCP      | HTTPS | {webui}, client, and proxy requests.
| 443         | Outbound  | TCP      | HTTPS | Required for {scc}.
| 4505         | Inbound  | TCP | salt | Required to accept communication requests from clients.
The client initiates the connection, and it stays open to receive commands from the Salt master.
| 4506        | Inbound  | TCP | salt | Required to accept communication requests from clients.
The client initiates the connection, and it stays open to report results back to the Salt master.
| 5222        | Inbound   | TCP     |  | Required to push OSAD actions to clients.
| 5269        | Inbound/Outbound | TCP | | Required to push actions to and from the server.
|===



== External Client Ports

[cols="1,1,1,1", options="header"]
.External Port Requirements for {productname} Clients
|===
| Port number | Direction | Protocol | Notes
| 22          | Inbound   | SSH      | Required for ssh-push and ssh-push-tunnel contact methods.
| 80          | Outbound  |          | Used to reach the server or proxy.
| 5222        | Outbound  | TCP      | Required to push OSAD actions to the server or proxy.
|===
